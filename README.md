**Задача 1**
Опишите кратко, в чём основное отличие полной (аппаратной) виртуализации, паравиртуализации и виртуализации на основе ОС.

**Ответ**

Полная ( аппаратная ) виртуализация - слой гипервизора устанавливается непосредственно на физический сервер, такой тип виртуализации позволяет создавать виртуальные машины с различными операционнымисистемами и собственными ядрами.

Паравиртуализация - требует наличия хостовой операционной системы, на которую устанавливается слой гипервизора. Установка виртуальных машин с гостевыми операционными системами обычно выполняется из ISO оборазов, гостевые операционные системы модифицированы для поддержки паравиртуализации.

Виртуализация на уровне ОС - тип виртуализации, который позволяет изолировать окружение, но использует ядро хостовой операционной системы. На уровне хостовой операционной системы запускается как отдельный процесс, монтирует ресурсы хостовой операционной системы. Возможность создавать машины только с системами Linux или только с Windows, в зависимости от используемой хотсовой операционной системы.

**Задача 2**
Выберите один из вариантов использования организации физических серверов в зависимости от условий использования.

Организация серверов:

физические сервера,
паравиртуализация,
виртуализация уровня ОС.
Условия использования:

высоконагруженная база данных, чувствительная к отказу;
различные web-приложения;
Windows-системы для использования бухгалтерским отделом;
системы, выполняющие высокопроизводительные расчёты на GPU.
Опишите, почему вы выбрали к каждому целевому использованию такую организацию.

**Ответ**

Высоконагруженная база данных, чувствительная к отказу - аппаратная виртуализация с функцией клатеризации на уровне виртуализации, с целью обеспечения непрерывности и доступносит СУБД на уровне виртуализации. Дополнительно нужно использовать технологии кластеризации на уровне СУБД.

Различные web-приложения - виртуализация на уровне ОС, парадигма микросервисной архитеткруы. Удобно развертывать, балансировать нагрузку.

Windows-системы для использования бухгалтерским отделом - Паравиртуализация Microsfot Hyper-V, нативная поддержка гостевых ОС, низкий порог вхождения для инженеров.

Системы, выполняющие высокопроизводительные расчёты на GPU - аппаратная виртуализация с поддержкой функции "DirectPath I/O", которая позволит использовть GPU напрямую без виртуализации внутри виртуальной машины.

**Задача 3**
Выберите подходящую систему управления виртуализацией для предложенного сценария. Детально опишите ваш выбор.

Сценарии:

100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based-инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий.
Требуется наиболее производительное бесплатное open source-решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин.
Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows-инфраструктуры.
Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux.

**Ответ**

100 виртуальных машин на базе Linux и Windows, общие задачи, нет особых требований. Преимущественно Windows based-инфраструктура, требуется реализация программных балансировщиков нагрузки, репликации данных и автоматизированного механизма создания резервных копий - Microsfot Hyper-V иди VMware, поддерживает заявленные требования, в ОС встроена система резервного копирования или можно использовать Veeam B&R. Требование репликации данных необходимо уточнить, репликация внутри ВМ или репликация самой ВМ? Если внутри ВМ, то это функциона гостевой операционной системы, если требуется реплицировать саму ВМ, то это функция гипервизора или системы резевного копирования типа Veeam B&R.

Требуется наиболее производительное бесплатное open source-решение для виртуализации небольшой (20-30 серверов) инфраструктуры на базе Linux и Windows виртуальных машин - KVM, Xen.

Необходимо бесплатное, максимально совместимое и производительное решение для виртуализации Windows-инфраструктуры - Xen, т..к поддерживает аппаратную виртуализацию и является более зрелым и стабильным чем KVM.

Необходимо рабочее окружение для тестирования программного продукта на нескольких дистрибутивах Linux - KVM, Xen.

**Задача 4**
Опишите возможные проблемы и недостатки гетерогенной среды виртуализации (использования нескольких систем управления виртуализацией одновременно) и что необходимо сделать для минимизации этих рисков и проблем. Если бы у вас был выбор, создавали бы вы гетерогенную среду или нет? Мотивируйте ваш ответ примерами.

**Ответ**

1) Требуются компетенции по управлению каждым гипервизором
2) Нюансы есть в каждом продукте, решение ошибок может заять много времени, лучше концентрироваться на одном решении
3) Миграция виртуальных машин между различными гиперуизорами потребуется тщательного планирования и времени
4) Нерациональное использование вычислительных ресурсов
5) Разные подходы к созданию резервных копий, некоторые системы резервного копирования могут неподдерживать некоторые гипервизоры.

Для минимизации рисков лучше провести пилотирование потенциально подходящих решений учитывая требования к системе виртуализции (живая миграция, резерное копирование, мониторинг, кластеризация и т.д.) и выбрать одно из них, учитывая зрелось продукта и поддержку со стороны производителя или сообщества.
